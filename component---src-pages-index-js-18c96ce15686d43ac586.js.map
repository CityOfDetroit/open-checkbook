{"version":3,"sources":["webpack:///./src/components/Search.js","webpack:///./src/pages/index.js","webpack:///./.cache/gatsby-browser-entry.js","webpack:///./.cache/public-page-renderer.js","webpack:///./.cache/public-page-renderer-prod.js","webpack:///./src/images/cod-logo.jpg","webpack:///./src/components/SiteHeader.js","webpack:///./src/components/layout.js","webpack:///./src/helpers.js","webpack:///./src/components/Footer.js"],"names":["Search","_ref","agencies","vendors","_useState","useState","input","setInput","exclude","dropdownAgencies","_","uniqBy","filter","a","includes","parent","indexOf","deptName","sortBy","map","key","deptNumber","value","deptNameShorthand","text","as","Link","to","deptSlug","label","color","circular","empty","dropdownVendors","v","vendorNumber","vendorName","onClick","e","d","navigate","dropdownOptions","length","concat","react_default","createElement","Dropdown","fluid","search","selection","labeled","placeholder","options","onSearchChange","target","style","border","__webpack_require__","__webpack_exports__","query","OrangeLink","url","href","IndexPage","_ref2","data","depts","postgres","allAgenciesList","allVendorsList","deptsNotNull","totalAmount","topDepts","groupBy","objs","dept","slug","total","reduce","p","parseFloat","o","reverse","slice","topVendors","vendor","pass","passThroughPayee","l","layout","pageTitle","Grid","Row","backgroundImage","backgroundRepeat","backgroundSize","backgroundPosition","width","Column","Responsive","Segment","minWidth","basic","inverted","background","margin","size","textAlign","padded","pages_OrangeLink","maxWidth","Search_Search","Header","Helpers","floatToMoney","Subheader","marginTop","gatsby_browser_entry","prefetch","className","cursor","padding","textDecoration","textTransform","fontWeight","fontSize","fontFamily","content","List","ordered","relaxed","divided","i","Item","Content","marginLeft","Description","Label","borderRadius","stringToMoney","Footer","StaticQuery","react__WEBPACK_IMPORTED_MODULE_0__","react__WEBPACK_IMPORTED_MODULE_0___default","n","prop_types__WEBPACK_IMPORTED_MODULE_1__","prop_types__WEBPACK_IMPORTED_MODULE_1___default","gatsby_link__WEBPACK_IMPORTED_MODULE_2__","gatsby_link__WEBPACK_IMPORTED_MODULE_2___default","StaticQueryContext","React","createContext","props","Consumer","staticQueryData","render","children","propTypes","PropTypes","object","string","isRequired","func","m","module","exports","require","default","ProdPageRenderer","location","pageResources","loader","getResourcesForPathnameSync","pathname","InternalPageRenderer","Object","assign","json","shape","SiteHeader","siteTitle","stackable","centered","borderBottom","display","justifyContent","alignItems","alignContent","flexWrap","rel","Image","src","logo","height","alt","toUpper","marginRight","Layout","Fragment","Helmet_default","title","site","siteMetadata","meta","name","components_SiteHeader","_755544856","node","lodash__WEBPACK_IMPORTED_MODULE_0__","lodash__WEBPACK_IMPORTED_MODULE_0___default","numeral__WEBPACK_IMPORTED_MODULE_1__","numeral__WEBPACK_IMPORTED_MODULE_1___default","str","Intl","NumberFormat","currency","format","formatMoney","numeral","toUpperCase","flt","nest","seq","keys","first","rest","mapValues","semantic_ui_react__WEBPACK_IMPORTED_MODULE_1__"],"mappings":"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","file":"component---src-pages-index-js-18c96ce15686d43ac586.js","sourcesContent":["import React, { useState } from 'react';\nimport { Link, navigate } from 'gatsby';\nimport { Dropdown } from 'semantic-ui-react';\nimport _ from 'lodash';\n\nexport const Search = ({ agencies, vendors }) => {\n\n  let [input, setInput] = useState('')\n  \n  let exclude = ['Inactive GL Entities', 'Arts', 'Civic Center', 'Homeland Security Department', 'Recreation'];\n  let dropdownAgencies = _(agencies)\n    .uniqBy('deptName') // dedupes dwsd\n    .filter(a => !_.includes(exclude, a.parent)) // cleans out Arts, Civic Center, etc\n    .filter(a => exclude.indexOf(a.deptName) === -1)\n    .sortBy('deptName')\n    .map(a => { // structures as Semantic's dropdown format\n      return { \n        key: a.deptNumber,\n        value: a.deptNameShorthand,\n        text: `${a.deptName}`,\n        as: Link,\n        to: `/agency/${a.deptSlug}`,\n        label: { color: 'yellow', circular: true, empty: true }\n      }\n    })\n    .value();\n\n  let dropdownVendors = _(vendors)\n    .sortBy('vendorName')\n    .map(v => {\n      return {\n        key: v.vendorNumber,\n        value: v.vendorName,\n        text: v.vendorName,\n        // as: Link,\n        onClick: ((e, d) => navigate(`/vendor/${v.vendorNumber}`)),\n        // to: `/vendor/${v.vendorNumber}`,\n        label: { color: 'purple', circular: true, empty: true }\n      }\n    })\n    .value();\n\n  let dropdownOptions = []\n  // check here for input length and add vendors add needed\n  if(input.length > 1) {\n    dropdownOptions = [...dropdownVendors, ...dropdownAgencies]\n  }\n  else {\n    dropdownOptions = [...dropdownAgencies];\n  }\n\n  return (\n    <Dropdown \n      fluid \n      search \n      selection\n      labeled\n      placeholder='Search for agencies and payees' \n      options={dropdownOptions}\n      onSearchChange={(e) => setInput(e.target.value)}\n      value={input}\n      style={{ border: '3px solid #004445' }}\n    />\n  );\n};","import React from 'react'\nimport {\n  List,\n  Grid,\n  Header,\n  Segment,\n  Label,\n  Container,\n  Image,\n  Responsive,\n} from 'semantic-ui-react'\nimport { graphql, Link } from 'gatsby'\nimport _ from 'lodash'\n\nimport Layout from '../components/layout'\nimport { Search } from '../components/Search'\nimport Helpers from '../helpers'\nimport Footer from '../components/Footer'\n\nconst OrangeLink = ({ url, text }) => {\n  return <a href={url} style={{color: '#feb70d'}}>{text}</a>\n}\n\nconst IndexPage = ({ data }) => {\n  let depts = data.postgres.allAgenciesList\n  let vendors = data.postgres.allVendorsList\n\n  // use this for top level total payments stat (can't reduce vendor total amount because of show in stats filter!)\n  let deptsNotNull = _.filter(depts, function(d) {\n    return d.totalAmount > 0\n  })\n\n  let topDepts = _(depts)\n    .groupBy('deptName') // dedupes dwsd\n    .map((objs, key) => ({\n      dept: key,\n      slug: objs[0].deptSlug,\n      total: objs.reduce((a, p) => a + parseFloat(p.totalAmount), 0),\n    }))\n    .filter(function(o) {\n      return o.total > 0\n    })\n    .sortBy(['total'])\n    .reverse()\n    .slice(0, 10)\n    .value()\n\n  let topVendors = _(vendors)\n    .map(v => ({\n      vendor: v.vendorName,\n      slug: v.vendorNumber,\n      total: v.totalAmount,\n      pass: v.passThroughPayee,\n    }))\n    .filter(l => l.total !== null)\n    .sortBy(['total'])\n    .reverse()\n    .slice(0, 10)\n    .value()\n\n  let headerContainerStyle = {\n    backgroundImage: `url('https://detroitmi.gov/sites/detroitmi.localhost/files/2019-07/gaberich.png')`,\n    backgroundRepeat: `no-repeat`,\n    backgroundSize: `cover`,\n    backgroundPosition: 'center',\n    width: '100vw',\n  }\n\n  return (\n    <Layout pageTitle='Homepage'>\n      <Grid.Row style={headerContainerStyle}>\n        <Grid.Column width={12}>\n          <Responsive as={Segment} minWidth={800} basic inverted style={{ background: 'rgba(24, 37, 42, 0.85)', margin: `.5em` }} size={`regular`} textAlign='justify' padded>\n            <p>\n              Under Mayor Mike Duggan and the Detroit City Council’s leadership,\n              the City of Detroit has strategically invested in improving the\n              quality of life for Detroiters. Through the efficient and\n              effective use of public resources, Detroit has reduced crime and\n              fires, improved our roads, provided vibrant parks, increased\n              access to affordable housing, removed blight, brought new jobs to\n              Detroit, and expanded job training to fill those jobs. To ensure\n              we have the public’s trust as we guide these investments, the City\n              of Detroit has launched Detroit’s Open Checkbook. In accordance\n              with the <OrangeLink url={`https://detroitmi.gov/document/executive-order-2015-2-city-detroit-open-data-initiative-and-creation-detroit-go-data-government`} text={` Mayor's Executive Order 2015-2 `} />\n              , the Open Checkbook will give Detroiters the ability to see city\n              payments to vendors that make government work for residents every\n              day.\n            </p>\n\n            <p>\n              <b>Welcome, Detroit, to your Open Checkbook.</b>\n            </p>\n          </Responsive>\n          <Responsive as={Segment} maxWidth={800} basic inverted style={{ background: 'rgba(24, 37, 42, 0.85)', margin: `.1em` }} size={`regular`} textAlign='justify'>\n            <p>\n              Under Mayor Mike Duggan and the Detroit City Council’s leadership,\n              the City of Detroit has strategically invested in improving the\n              quality of life for Detroiters. Through the efficient and\n              effective use of public resources, Detroit has reduced crime and\n              fires, improved our roads, provided vibrant parks, increased\n              access to affordable housing, removed blight, brought new jobs to\n              Detroit, and expanded job training to fill those jobs. To ensure\n              we have the public’s trust as we guide these investments, the City\n              of Detroit has launched Detroit’s Open Checkbook. In accordance\n              with the <OrangeLink url={`https://detroitmi.gov/document/executive-order-2015-2-city-detroit-open-data-initiative-and-creation-detroit-go-data-government`} text={` Mayor's Executive Order 2015-2 `} />\n              , the Open Checkbook will give Detroiters the ability to see city\n              payments to vendors that make government work for residents every\n              day.\n            </p>\n\n            <p>\n              <b>Welcome, Detroit, to your Open Checkbook.</b>\n            </p>\n          </Responsive>\n        </Grid.Column>\n      </Grid.Row>\n\n      <Grid.Row>\n        <Grid.Column width={12}>\n          <Segment basic size=\"huge\">\n            <Search agencies={depts} vendors={vendors} />\n          </Segment>\n        </Grid.Column>\n      </Grid.Row>\n\n      <Grid.Row>\n        <Grid.Column width={12}>\n          <Segment basic size=\"huge\">\n            <Header as=\"h1\">\n              {Helpers.floatToMoney(\n                deptsNotNull.reduce((a, v) => a + parseFloat(v.totalAmount), 0)\n              )}\n              <Header.Subheader>\n                Total Payments in Fiscal Year 2017-2018\n              </Header.Subheader>\n            </Header>\n            <div style={{ marginTop: `25px` }}>\n              <Link to={`/drilldown/`} prefetch={false}>\n                <button\n                  className=\"all-spending-btn\"\n                  style={{\n                    border: `none`,\n                    cursor: `pointer`,\n                    background: `#feb70d`,\n                    padding: `1em`,\n                    color: `#18252a`,\n                    textDecoration: `none`,\n                    textTransform: `uppercase`,\n                    fontWeight: 900,\n                    fontSize: `14px`,\n                    fontFamily: 'Montserrat'\n                  }}\n                >\n                  View All Payments\n                </button>\n              </Link>\n            </div>\n          </Segment>\n        </Grid.Column>\n      </Grid.Row>\n\n      <Grid.Row>\n        <Grid.Column width={6}>\n          <Segment basic>\n            <Header as=\"h2\" content=\"Top Agencies\" />\n            <List ordered relaxed divided size=\"big\">\n              {topDepts.map((d, i) => (\n                <List.Item key={i}>\n                  <List.Content style={{ marginLeft: '.5em' }}>\n                    <List.Header>\n                      <Link to={`/agency/${d.slug}`}>{d.dept} >></Link>\n                    </List.Header>\n                    <List.Description>\n                      {Helpers.floatToMoney(d.total)}\n                    </List.Description>\n                  </List.Content>\n                </List.Item>\n              ))}\n            </List>\n          </Segment>\n        </Grid.Column>\n\n        <Grid.Column width={6}>\n          <Segment basic>\n            <Header as=\"h2\" content=\"Top Payees\" />\n            <List ordered relaxed divided size=\"big\">\n              {topVendors.map((v, i) => (\n                <List.Item key={i}>\n                  <List.Content style={{ marginLeft: '.5em' }}>\n                    <List.Header>\n                      <Link to={`/vendor/${v.slug}`}>{v.vendor} >></Link>\n                      {v.pass === true ? (\n                        <Label\n                          size=\"tiny\"\n                          style={{ marginLeft: '1em', borderRadius: 0 }}\n                        >\n                          PASS THROUGH PAYMENTS\n                        </Label>\n                      ) : (\n                        ``\n                      )}\n                    </List.Header>\n                    <List.Description>\n                      {Helpers.stringToMoney(v.total)}\n                    </List.Description>\n                  </List.Content>\n                </List.Item>\n              ))}\n            </List>\n          </Segment>\n        </Grid.Column>\n      </Grid.Row>\n\n      <Footer />\n    </Layout>\n  )\n}\n\nexport default IndexPage\n\nexport const query = graphql`\n  {\n    postgres {\n      allAgenciesList {\n        deptName\n        deptSlug\n        totalAmount\n      }\n      allVendorsList(condition: { showInStats: true }) {\n        vendorName\n        vendorNumber\n        totalAmount\n        passThroughPayee\n      }\n    }\n  }\n`\n","import React from \"react\"\nimport PropTypes from \"prop-types\"\nimport Link, {\n  withPrefix,\n  withAssetPrefix,\n  navigate,\n  push,\n  replace,\n  navigateTo,\n  parsePath,\n} from \"gatsby-link\"\nimport PageRenderer from \"./public-page-renderer\"\n\nconst StaticQueryContext = React.createContext({})\n\nconst StaticQuery = props => (\n  <StaticQueryContext.Consumer>\n    {staticQueryData => {\n      if (\n        props.data ||\n        (staticQueryData[props.query] && staticQueryData[props.query].data)\n      ) {\n        return (props.render || props.children)(\n          props.data ? props.data.data : staticQueryData[props.query].data\n        )\n      } else {\n        return <div>Loading (StaticQuery)</div>\n      }\n    }}\n  </StaticQueryContext.Consumer>\n)\n\nconst useStaticQuery = query => {\n  if (\n    typeof React.useContext !== `function` &&\n    process.env.NODE_ENV === `development`\n  ) {\n    throw new Error(\n      `You're likely using a version of React that doesn't support Hooks\\n` +\n        `Please update React and ReactDOM to 16.8.0 or later to use the useStaticQuery hook.`\n    )\n  }\n  const context = React.useContext(StaticQueryContext)\n  if (context[query] && context[query].data) {\n    return context[query].data\n  } else {\n    throw new Error(\n      `The result of this StaticQuery could not be fetched.\\n\\n` +\n        `This is likely a bug in Gatsby and if refreshing the page does not fix it, ` +\n        `please open an issue in https://github.com/gatsbyjs/gatsby/issues`\n    )\n  }\n}\n\nStaticQuery.propTypes = {\n  data: PropTypes.object,\n  query: PropTypes.string.isRequired,\n  render: PropTypes.func,\n  children: PropTypes.func,\n}\n\nfunction graphql() {\n  throw new Error(\n    `It appears like Gatsby is misconfigured. Gatsby related \\`graphql\\` calls ` +\n      `are supposed to only be evaluated at compile time, and then compiled away. ` +\n      `Unfortunately, something went wrong and the query was left in the compiled code.\\n\\n` +\n      `Unless your site has a complex or custom babel/Gatsby configuration this is likely a bug in Gatsby.`\n  )\n}\n\nexport {\n  Link,\n  withAssetPrefix,\n  withPrefix,\n  graphql,\n  parsePath,\n  navigate,\n  push, // TODO replace for v3\n  replace, // TODO remove replace for v3\n  navigateTo, // TODO: remove navigateTo for v3\n  StaticQueryContext,\n  StaticQuery,\n  PageRenderer,\n  useStaticQuery,\n}\n","const preferDefault = m => (m && m.default) || m\n\nif (process.env.BUILD_STAGE === `develop`) {\n  module.exports = preferDefault(require(`./public-page-renderer-dev`))\n} else if (process.env.BUILD_STAGE === `build-javascript`) {\n  module.exports = preferDefault(require(`./public-page-renderer-prod`))\n} else {\n  module.exports = () => null\n}\n","import React from \"react\"\nimport PropTypes from \"prop-types\"\n\nimport InternalPageRenderer from \"./page-renderer\"\nimport loader from \"./loader\"\n\nconst ProdPageRenderer = ({ location }) => {\n  const pageResources = loader.getResourcesForPathnameSync(location.pathname)\n  if (!pageResources) {\n    return null\n  }\n\n  return React.createElement(InternalPageRenderer, {\n    location,\n    pageResources,\n    ...pageResources.json,\n  })\n}\n\nProdPageRenderer.propTypes = {\n  location: PropTypes.shape({\n    pathname: PropTypes.string.isRequired,\n  }).isRequired,\n}\n\nexport default ProdPageRenderer\n","module.exports = __webpack_public_path__ + \"static/cod-logo-3c15a0bdecbe50211480e8b9b7a32701.jpg\";","import React from \"react\"\nimport { Link } from \"gatsby\"\nimport { Image, Header, Grid } from \"semantic-ui-react\"\nimport _ from \"lodash\"\n\nimport logo from \"../images/cod-logo.jpg\"\n\nconst SiteHeader = ({ siteTitle }) => (\n  \n  <Grid padded stackable centered>\n    <Grid.Row style={{ borderBottom: `5px solid #feb70d`}}>\n      <Grid.Column width={12}>  \n      <header>\n        <div style={{ margin: `0 auto`, padding: `1rem 1rem`, display: `flex`, justifyContent: `space-between`, alignItems: `center`, alignContent: `middle`, flexWrap: `wrap`}}>\n          <div style={{ display: `flex`, alignItems: `center` }}>\n            <div style={{ width: `70px` }}>\n              <a href=\"https://detroitmi.gov/\" target='_blank' rel='noopener noreferrer'>\n                <Image src={logo} style={{ padding: 0, margin: 0, width: `100%`, height: `auto` }} alt=\"city of detroit logo\" />\n              </a>\n            </div>\n            <Link className=\"header-link\" to=\"/\" style={{ color: `black`, textDecoration: `none`, textAlign: `right` }}>\n              <Header as='h2' style={{ fontWeight: 900}}>{_.toUpper(siteTitle)}</Header>\n            </Link>\n          </div>\n          <Link to=\"/\" style={{ color: `#004445`, textDecoration: `none`, marginLeft: `auto`, marginRight: `3em`, borderBottom: `1px dotted #18252a` }}>\n            HOME\n          </Link>\n          <Link to=\"/about/\" style={{ color: `#004445`, textDecoration: `none`, borderBottom: `1px dotted #18252a`, marginRight: '3em'  }}>\n            ABOUT\n          </Link>\n          <Link to=\"/drilldown/\" prefetch={false} style={{ color: `#004445`, textDecoration: `none`, borderBottom: `1px dotted #18252a`  }}>\n            CHART\n          </Link>\n        </div>\n      </header>\n      </Grid.Column>\n    </Grid.Row>\n  </Grid>\n)\n\nexport default SiteHeader","import React from 'react'\nimport PropTypes from 'prop-types'\nimport Helmet from 'react-helmet'\nimport { StaticQuery, graphql } from 'gatsby'\nimport { Grid  } from 'semantic-ui-react'\n\nimport SiteHeader from './SiteHeader'\n\nimport 'semantic-ui-less/semantic.less'\n\nconst Layout = ({ children, data, pageTitle }) => (\n  <StaticQuery\n    query={graphql`\n      query SiteTitleQuery {\n        site {\n          siteMetadata {\n            title\n          }\n        }\n      }\n    `}\n    render={data => (\n      <>\n        <Helmet\n          title={`${pageTitle}: ${data.site.siteMetadata.title}`}\n          meta={[\n            { name: 'description', content: 'Sample' },\n            { name: 'keywords', content: 'sample, something' },\n          ]}>\n            <link href=\"https://fonts.googleapis.com/css?family=Montserrat:400,400i,700,700i,900&display=swap\" rel=\"stylesheet\"></link>\n          </Helmet>\n\n        <SiteHeader siteTitle={data.site.siteMetadata.title} />\n\n          <Grid padded stackable centered>\n            {children}\n          </Grid>\n      </>\n    )}\n  />\n)\n\nLayout.propTypes = {\n  children: PropTypes.node.isRequired,\n}\n\nexport default Layout\n","import _ from 'lodash';\nimport numeral from 'numeral'\n\nconst Helpers = {\n  // graphql queries return strings, format them as currency\n  stringToMoney: function(str) {\n    return new Intl.NumberFormat('en-US', {\n      style: 'currency', currency: 'USD'\n    }).format(parseFloat(str));\n  },\n\n  formatMoney: function(str) {\n    return numeral(str).format('$0.0a').toUpperCase()\n  },\n\n  // reduce returns floats, format that as currency too\n  floatToMoney: function(flt) {\n    return new Intl.NumberFormat('en-US', {\n      style: 'currency', currency: 'USD'\n    }).format(flt);\n  }, \n\n  // recursively groupBy multiple object keys\n  // thanks https://bl.ocks.org/joyrexus/9837596\n  nest: function (seq, keys) {\n    if (!keys.length)\n      return seq;\n    var first = keys[0];\n    var rest = keys.slice(1);\n    return _.mapValues(_.groupBy(seq, first), function (value) { \n      return Helpers.nest(value, rest);\n    });\n  }\n}\n\nexport default Helpers;\n","import React from 'react'\nimport { Grid } from 'semantic-ui-react'\n\nconst Footer = () => {\n  return (\n    <Grid.Row style={{background: '#f2f2f2', marginTop: '5em', height: '50px'}}>\n      <span style={{width: '50px', marginTop: '-55px'}}>\n        <img style={{maxWidth: '100%'}} src='https://detroitmi.gov/themes/custom/detroitmi/logo.png' alt='City of Detroit logo' />\n      </span>\n    </Grid.Row>\n  )\n}\n\nexport default Footer"],"sourceRoot":""}