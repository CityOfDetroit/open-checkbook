(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{149:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(459),i=a(248),l=a(458),c=a(297),s=a(450),u=a(155),d=a(163),m=a.n(d),p=a(171),f=(a(79),a(80),a(454)),g=function(e){var t=e.agencies,a=e.vendors,o=Object(n.useState)(""),i=o[0],l=o[1],c=["Inactive GL Entities","Arts","Civic Center","Homeland Security Department","Recreation"],s=m()(t).uniqBy("deptName").filter(function(e){return!m.a.includes(c,e.parent)}).filter(function(e){return-1===c.indexOf(e.deptName)}).sortBy("deptName").map(function(e){return{key:e.deptNumber,value:e.deptNameShorthand,text:""+e.deptName,as:u.a,to:"/agency/"+e.deptSlug,label:{color:"yellow",circular:!0,empty:!0}}}).value(),d=m()(a).sortBy("vendorName").map(function(e){return{key:e.vendorNumber,value:e.vendorName,text:e.vendorName,onClick:function(t,a){return Object(u.c)("/vendor/"+e.vendorNumber)},label:{color:"purple",circular:!0,empty:!0}}}).value(),p=[];return p=i.length>1?[].concat(d,s):[].concat(s),r.a.createElement(f.a,{fluid:!0,search:!0,selection:!0,labeled:!0,placeholder:"Search for agencies and payees",options:p,onSearchChange:function(e){return l(e.target.value)},value:i,style:{border:"3px solid #004445"}})},h=a(172),y=a(178);a.d(t,"query",function(){return v});t.default=function(e){var t=e.data,a=t.postgres.allAgenciesList,n=t.postgres.allVendorsList,d=m.a.filter(a,function(e){return e.totalAmount>0}),f=m()(a).groupBy("deptName").map(function(e,t){return{dept:t,slug:e[0].deptSlug,total:e.reduce(function(e,t){return e+parseFloat(t.totalAmount)},0)}}).filter(function(e){return e.total>0}).sortBy(["total"]).reverse().slice(0,10).value(),v=m()(n).map(function(e){return{vendor:e.vendorName,slug:e.vendorNumber,total:e.totalAmount,pass:e.passThroughPayee}}).filter(function(e){return null!==e.total}).sortBy(["total"]).reverse().slice(0,10).value();return r.a.createElement(p.a,{pageTitle:"home"},r.a.createElement(o.a.Row,{style:{backgroundImage:"url('https://detroitmi.gov/sites/detroitmi.localhost/files/2019-07/gaberich.png')",backgroundRepeat:"no-repeat",backgroundSize:"cover",backgroundPosition:"center",width:"100vw",padding:"5em"}},r.a.createElement(o.a.Column,{width:12},r.a.createElement(i.a,{basic:!0,inverted:!0,style:{background:"rgba(24, 37, 42, 0.85)",margin:".5em"},size:"large",textAlign:"justify",padded:!0},r.a.createElement("p",null,r.a.createElement("i",null,"Message from David P. Massaron, CFO, City of Detroit:")),r.a.createElement("p",null,"Under Mayor Mike Duggan and the Detroit City Council’s leadership, the City of Detroit has strategically invested in improving the quality of life for Detroiters. Through the efficient and effective use of public resources, Detroit has reduced crime and fires, improved our roads, provided vibrant parks, increased access to affordable housing, removed blight, brought new jobs to Detroit, and expanded job training to fill those jobs. To ensure we have the public’s trust as we guide these investments, the City of Detroit has launched Detroit’s Open Checkbook. In accordance with the ",r.a.createElement("a",{href:"https://detroitmi.gov/document/executive-order-2015-2-city-detroit-open-data-initiative-and-creation-detroit-go-data-government"},"Mayor's Executive Order 2015-2 "),", the Open Checkbook will give Detroiters the ability to see city payments to vendors that make government work for residents every day."),r.a.createElement("p",null,r.a.createElement("b",null,"Welcome, Detroit, to your Open Checkbook."))))),r.a.createElement(o.a.Row,null,r.a.createElement(o.a.Column,{width:12},r.a.createElement(i.a,{basic:!0,size:"huge"},r.a.createElement(g,{agencies:a,vendors:n})))),r.a.createElement(o.a.Row,null,r.a.createElement(o.a.Column,{width:12},r.a.createElement(i.a,{basic:!0,size:"huge"},r.a.createElement(l.a,{as:"h1"},h.a.floatToMoney(d.reduce(function(e,t){return e+parseFloat(t.totalAmount)},0)),r.a.createElement(l.a.Subheader,null,"Total Payments in Fiscal Year 2017-2018")),r.a.createElement("div",{style:{marginTop:"25px"}},r.a.createElement(u.a,{to:"/drilldown/",prefetch:!1},r.a.createElement("button",{className:"all-spending-btn",style:{border:"none",cursor:"pointer",background:"#feb70d",padding:"1em",color:"#18252a",textDecoration:"none",textTransform:"uppercase",fontWeight:900,fontSize:"14px",fontFamily:"Montserrat"}},"View All Payments")))))),r.a.createElement(o.a.Row,null,r.a.createElement(o.a.Column,{width:6},r.a.createElement(i.a,{basic:!0},r.a.createElement(l.a,{as:"h2",content:"Top Agencies"}),r.a.createElement(c.a,{ordered:!0,relaxed:!0,divided:!0,size:"big"},f.map(function(e,t){return r.a.createElement(c.a.Item,{key:t},r.a.createElement(c.a.Content,{style:{marginLeft:".5em"}},r.a.createElement(c.a.Header,null,r.a.createElement(u.a,{to:"/agency/"+e.slug},e.dept," >>")),r.a.createElement(c.a.Description,null,h.a.floatToMoney(e.total))))})))),r.a.createElement(o.a.Column,{width:6},r.a.createElement(i.a,{basic:!0},r.a.createElement(l.a,{as:"h2",content:"Top Payees"}),r.a.createElement(c.a,{ordered:!0,relaxed:!0,divided:!0,size:"big"},v.map(function(e,t){return r.a.createElement(c.a.Item,{key:t},r.a.createElement(c.a.Content,{style:{marginLeft:".5em"}},r.a.createElement(c.a.Header,null,r.a.createElement(u.a,{to:"/vendor/"+e.slug},e.vendor," >>"),!0===e.pass?r.a.createElement(s.a,{size:"tiny",style:{marginLeft:"1em",borderRadius:0}},"PASS THROUGH PAYMENTS"):""),r.a.createElement(c.a.Description,null,h.a.stringToMoney(e.total))))}))))),r.a.createElement(y.a,null))};var v="3955938255"},155:function(e,t,a){"use strict";a.d(t,"b",function(){return u});var n=a(0),r=a.n(n),o=a(4),i=a.n(o),l=a(33),c=a.n(l);a.d(t,"a",function(){return c.a}),a.d(t,"c",function(){return l.navigate});a(162);var s=r.a.createContext({}),u=function(e){return r.a.createElement(s.Consumer,null,function(t){return e.data||t[e.query]&&t[e.query].data?(e.render||e.children)(e.data?e.data.data:t[e.query].data):r.a.createElement("div",null,"Loading (StaticQuery)")})};u.propTypes={data:i.a.object,query:i.a.string.isRequired,render:i.a.func,children:i.a.func}},162:function(e,t,a){var n;e.exports=(n=a(168))&&n.default||n},168:function(e,t,a){"use strict";a.r(t);a(36);var n=a(0),r=a.n(n),o=a(4),i=a.n(o),l=a(55),c=a(2),s=function(e){var t=e.location,a=c.default.getResourcesForPathnameSync(t.pathname);return a?r.a.createElement(l.a,Object.assign({location:t,pageResources:a},a.json)):null};s.propTypes={location:i.a.shape({pathname:i.a.string.isRequired}).isRequired},t.default=s},169:function(e){e.exports={data:{site:{siteMetadata:{title:"Open Checkbook Detroit"}}}}},170:function(e,t,a){e.exports=a.p+"static/cod-logo-3c15a0bdecbe50211480e8b9b7a32701.jpg"},171:function(e,t,a){"use strict";var n=a(169),r=a(0),o=a.n(r),i=a(4),l=a.n(i),c=a(182),s=a.n(c),u=a(155),d=a(459),m=a(448),p=a(458),f=a(163),g=a.n(f),h=a(170),y=a.n(h),v=function(e){var t=e.siteTitle;return o.a.createElement(d.a,{padded:!0,stackable:!0,centered:!0},o.a.createElement(d.a.Row,{style:{borderBottom:"5px solid #feb70d"}},o.a.createElement(d.a.Column,{width:12},o.a.createElement("header",null,o.a.createElement("div",{style:{margin:"0 auto",padding:"1rem 1rem",display:"flex",justifyContent:"space-between",alignItems:"center",alignContent:"middle",flexWrap:"wrap"}},o.a.createElement("div",{style:{display:"flex",alignItems:"center"}},o.a.createElement("div",{style:{width:"70px"}},o.a.createElement("a",{href:"https://detroitmi.gov/",target:"_blank",rel:"noopener noreferrer"},o.a.createElement(m.a,{src:y.a,style:{padding:0,margin:0,width:"100%",height:"auto"},alt:"city of detroit logo"}))),o.a.createElement(u.a,{className:"header-link",to:"/",style:{color:"black",textDecoration:"none",textAlign:"right"}},o.a.createElement(p.a,{as:"h2",style:{fontWeight:900}},g.a.toUpper(t)))),o.a.createElement(u.a,{to:"/",style:{color:"#004445",textDecoration:"none",marginLeft:"auto",marginRight:"3em",borderBottom:"1px dotted #18252a"}},"HOME"),o.a.createElement(u.a,{to:"/about/",style:{color:"#004445",textDecoration:"none",borderBottom:"1px dotted #18252a",marginRight:"3em"}},"ABOUT"),o.a.createElement(u.a,{to:"/drilldown/",prefetch:!1,style:{color:"#004445",textDecoration:"none",borderBottom:"1px dotted #18252a"}},"CHART"))))))},E=(a(186),function(e){var t=e.children,a=(e.data,e.pageTitle);return o.a.createElement(u.b,{query:"755544856",render:function(e){return o.a.createElement(o.a.Fragment,null,o.a.createElement(s.a,{title:a+": "+e.site.siteMetadata.title,meta:[{name:"description",content:"Sample"},{name:"keywords",content:"sample, something"}]}),o.a.createElement(v,{siteTitle:e.site.siteMetadata.title}),o.a.createElement(d.a,{padded:!0,stackable:!0,centered:!0},t))},data:n})});E.propTypes={children:l.a.node.isRequired};t.a=E},172:function(e,t,a){"use strict";var n=a(163),r=a.n(n),o=a(199),i=a.n(o),l={stringToMoney:function(e){return new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(parseFloat(e))},formatMoney:function(e){return i()(e).format("$0.0a").toUpperCase()},floatToMoney:function(e){return new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(e)},nest:function(e,t){if(!t.length)return e;var a=t[0],n=t.slice(1);return r.a.mapValues(r.a.groupBy(e,a),function(e){return l.nest(e,n)})}};t.a=l},178:function(e,t,a){"use strict";var n=a(0),r=a.n(n),o=a(459);t.a=function(){return r.a.createElement(o.a.Row,{style:{background:"#f2f2f2",marginTop:"5em",height:"50px"}},r.a.createElement("span",{style:{width:"50px",marginTop:"-55px"}},r.a.createElement("img",{style:{maxWidth:"100%"},src:"https://detroitmi.gov/themes/custom/detroitmi/logo.png",alt:"City of Detroit logo"})))}}}]);
//# sourceMappingURL=component---src-pages-index-js-0516f3fb3474efeaa08a.js.map